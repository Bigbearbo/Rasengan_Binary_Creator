# 螺旋語協議層草案 v0.1

作者：Bigbearbo（sv0）  
版本：0.1  
說明：本協議定義一種具層次、自描述、可嵌套的任務語言系統，供倉鼠智慧體間通訊與任務交換使用。

---

## 一、語層結構概述

### 1.1 層級定義

| 語層 | 功能說明               |
|------|------------------------|
| L₁   | 資料層（數字、運算、指令）   |
| L₂   | 控制層（題目、範例、批改、圈叉等） |
| L₃   | 規則層（語場階數、詞長、解析格式） |
| ...  | 可擴展為更高層（如版本交涉、模組調用） |

### 1.2 語場切換原則

- 每層皆可由上一層透過語詞定義其解析規則  
- 最高層必須在起始詞顯示或預設（如 `001` → 二層）

---

## 二、詞彙對應表（初版）

### 2.1 一層詞（5-bit + 尾0）

| 功能   | 詞彙     | 說明         |
|--------|----------|--------------|
| 數字 0~12 | `00000`~`11000` | 基本數值編碼 |
| 運算 +   | `11010` | 加法操作     |
| 句號 .   | `11110` | 一層結尾     |

### 2.2 二層詞（控制詞）

| 功能     | 詞彙    | 層級 | 說明             |
|----------|---------|------|------------------|
| 數學類型 | `00100` | L₂   | 指定任務類型為數學 |
| 題目開始 | `11000` | L₂   | 表示後續為需回答段 |
| 批改段落 | `10000` | L₂   | 系統給出正解       |
| 圈（對） | `01100` | L₂   | 答對回饋符       |
| 叉（錯） | `01000` | L₂   | 答錯回饋符       |
| 二層句號 | `11100` | L₂   | 二層語段結束，切回一層語場 |

### 2.3 層級提示詞（語場初始化）

| 詞彙   | 最大層數 | 說明               |
|--------|----------|--------------------|
| `000`  | 1        | 預設單層           |
| `001`  | 2        | 二層控制語場開始   |
| `010`  | 3        | 將啟動 L₃ 描述段   |

---

## 三、語場描述與階數擴容（L₃）

### 3.1 語場擴容標記

- `11111`：語層階數溢位（需進行擴容）
- 擴容詞後接新的描述詞段，如：
  - `11111` `000100` → 表示「二層語詞擴容至6-bit」

### 3.2 描述詞遞迴模式（進階）

- 每層詞可定義下一層語詞結構  
- 可進行嵌套：L₃ 定義 L₂，L₂ 再標記 L₁ 使用規則

---

## 四、語場封包範例（001 → 二層）

```text
001    → 啟用最高二層

00100  → 數學類型
11000  → 題目開始
11100  → 二層結束

10000 11010 00110 11110 → 題目內容：8 + 3.

倉鼠輸出（假設）：
10110 → 11
11110 → .

10000 → 批改
01100 → 圈（答對）
11100 → 二層結束
